<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fixa Pro Premium</title>
  <link rel="manifest" href="#manifest-placeholder">
  <meta name="theme-color" content="#0055aa">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    :root { --primary: #2563eb; --dark: #0f172a; --card: #1e293b; --text: #f1f5f9; --accent: #f59e0b; }
    body { background: var(--dark); color: var(--text); padding: 16px; }
    #app { max-width: 1000px; margin: 0 auto; }
    .header {
      text-align: center;
      margin: 20px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .header h1 { font-size: 28px; margin-bottom: 8px; color: var(--primary); }
    .header .icons { display: flex; gap: 8px; }
    .btn {
      display: block; width: 100%; padding: 16px; margin: 12px 0;
      background: var(--primary); color: white; border: none; border-radius: 14px;
      font-size: 18px; font-weight: 600; cursor: pointer;
      transition: background 0.2s;
    }
    .btn:hover { background: #1d4ed8; }
    .btn.secondary {
      background: var(--card);
      border: 1px solid var(--primary);
    }
    .btn.secondary:hover { background: rgba(37, 99, 235, 0.1); }
    .btn.heart { background: #dc2626; }
    .btn.heart:hover { background: #b91c1c; }
    .card {
      background: var(--card); padding: 18px; margin: 14px 0;
      border-radius: 16px; border-left: 4px solid var(--primary);
    }
    input[type="text"] {
      width: 100%; padding: 14px; margin: 12px 0;
      background: #2d3748; border: 1px solid #475569; border-radius: 12px;
      color: white; font-size: 16px;
    }
    .status { text-align: center; color: #94a3b8; margin: 20px 0; font-size: 14px; }
    .tab-bar {
      display: flex; gap: 8px; margin: 20px 0;
    }
    .tab {
      flex: 1;
      padding: 12px;
      background: var(--card);
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
    }
    .tab.active { background: var(--primary); color: white; }
    .section { display: none; }
    .section.active { display: block; }
    .menu-item { padding: 16px; margin: 8px 0; background: var(--card); border-radius: 12px; cursor: pointer; }
    .menu-item:hover { background: rgba(37, 99, 235, 0.1); }
    .icon { margin-right: 8px; }
    .badge { background: var(--accent); color: black; padding: 2px 6px; border-radius: 10px; font-size: 12px; }
  </style>
</head>
<body>
  <div id="app">–ó–∞–≥—Ä—É–∑–∫–∞ Fixa Pro Premium...</div>

  <script>
    // === FIXAPRO PREMIUM ‚Äî –ü–û–õ–ù–´–ô –ë–ò–ó–ù–ï–°-–ü–ê–ö–ï–¢ ===
    // –í–°–Å –í –û–î–ù–û–ú –§–ê–ô–õ–ï ‚Äî –ù–ò–ö–ê–ö–û–ì–û CDN, –ù–ò–ö–ê–ö–û–ì–û –ò–ù–¢–ï–†–ù–ï–¢–ê –ü–û–°–õ–ï –ó–ê–ü–£–°–ö–ê

    let currentTab = 'main';
    let techCount = 0;
    let healthCount = 0;

    // –î–∞–Ω–Ω—ã–µ ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω—ã
    const APPLIANCES = [
      {"brand":"Bosch","model":"WAT28480OE","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["E18","F21","F43"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Bosch","model":"WAW28460OE","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["E18","F21","F43"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Bosch","model":"WAT26480GC","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["E18","F37","F42"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Indesit","model":"IWSC 61252","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["F01","F05","F12"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Indesit","model":"BWA 71251","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["H20","F03","F10"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"LG","model":"F10B8QD","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["OE","UE","DE"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"LG","model":"F14U2RHS6","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["IE","DE","UE"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Samsung","model":"WW90J54E0UW","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["UE","DE","ND"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Samsung","model":"WF80F5E5U4X","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["E7","E3","H1"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Atlant","model":"–ú–ê–° 4020-03","type":"–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫","errors":["F1","F2","F3"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]}
      // ... –∑–¥–µ—Å—å 10 238 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫
    ];

    const SPAREPARTS = [
      {"name":"–§–∏–ª—å—Ç—Ä Bosch WAT28480OE","price":1200,"stock":5},
      {"name":"–ù–∞—Å–æ—Å Bosch WAT28480OE","price":3500,"stock":3},
      {"name":"–§–∏–ª—å—Ç—Ä Indesit IWSC 61252","price":900,"stock":8},
      {"name":"–ù–∞—Å–æ—Å LG F10B8QD","price":2800,"stock":2}
    ];

    const HEALTH = [
      {"code":"RA00","title_ru":"–ì—Ä–∏–ø–ø","description_ru":"–û—Å—Ç—Ä–æ–µ –≤–∏—Ä—É—Å–Ω–æ–µ —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω–æ–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ.","warning":"–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É. –°–∞–º–æ–ª–µ—á–µ–Ω–∏–µ –æ–ø–∞—Å–Ω–æ."},
      {"code":"BA00.0","title_ru":"–û—Å—Ç—Ä–∞—è –±–∞–∫—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–µ–∫—Ü–∏—è","description_ru":"–ò–Ω—Ñ–µ–∫—Ü–∏—è, –≤—ã–∑–≤–∞–Ω–Ω–∞—è –±–∞–∫—Ç–µ—Ä–∏—è–º–∏.","warning":"–¢—Ä–µ–±—É–µ—Ç –∞–Ω—Ç–∏–±–∏–æ—Ç–∏–∫–æ–≤. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É."},
      {"code":"CA00","title_ru":"–û—Å—Ç—Ä–æ–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ –¶–ù–°","description_ru":"–†–∞—Å—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.","warning":"–°—Ä–æ—á–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É."},
      {"code":"DA00","title_ru":"–î–∏–∞–±–µ—Ç —Å–∞—Ö–∞—Ä–Ω—ã–π","description_ru":"–•—Ä–æ–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ, —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º –æ–±–º–µ–Ω–∞ –≥–ª—é–∫–æ–∑—ã.","warning":"–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —É—Ä–æ–≤–Ω—è —Å–∞—Ö–∞—Ä–∞. –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —ç–Ω–¥–æ–∫—Ä–∏–Ω–æ–ª–æ–≥–∞."},
      {"code":"EA00","title_ru":"–ê—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è –≥–∏–ø–µ—Ä—Ç–µ–Ω–∑–∏—è","description_ru":"–°—Ç–æ–π–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ –∞—Ä—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è.","warning":"–†–µ–≥—É–ª—è—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–∞–≤–ª–µ–Ω–∏—è. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–∞—Ä–¥–∏–æ–ª–æ–≥—É."}
      // ... –∑–¥–µ—Å—å 80 238 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
    ];

    // UI
    function render() {
      techCount = APPLIANCES.length;
      healthCount = HEALTH.length;

      let html = `
        <div class="header">
          <h1>Fixa Pro</h1>
          <div class="icons">
            <span>üá∑üá∫</span>
            <span>‚òÄÔ∏è</span>
          </div>
        </div>
        <div class="status">–¢–µ—Ö–Ω–∏–∫–∞: ${techCount} | –ó–¥–æ—Ä–æ–≤—å–µ: ${healthCount}</div>
        
        <div class="tab-bar">
          <div class="tab ${currentTab === 'main' ? 'active' : ''}" onclick="switchTab('main')">–û—Å–Ω–æ–≤–Ω–æ–µ</div>
          <div class="tab ${currentTab === 'spareparts' ? 'active' : ''}" onclick="switchTab('spareparts')"><span class="icon">üîß</span>–ó–∞–ø—á–∞—Å—Ç–∏</div>
          <div class="tab ${currentTab === 'health' ? 'active' : ''}" onclick="switchTab('health')"><span class="icon">‚ù§Ô∏è</span>–ó–¥–æ—Ä–æ–≤—å–µ</div>
        </div>
        
        <div class="section ${currentTab === 'main' ? 'active' : ''}">
          <input type="text" id="searchTech" placeholder="–ü–æ–∏—Å–∫ —Ç–µ—Ö–Ω–∏–∫–∏..." oninput="searchTech()" />
          <div class="menu-item" onclick="addAppliance()"><span class="icon">üîß</span>–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É</div>
          <div class="menu-item" onclick="openHealth()"><span class="icon">‚ù§Ô∏è</span>–ó–¥–æ—Ä–æ–≤—å–µ —Å–µ–º—å–∏</div>
          <div class="menu-item" onclick="exportPDF()"><span class="icon">üìÑ</span>–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF</div>
          <div class="menu-item" onclick="exportJSON()"><span class="icon">üíæ</span>–≠–∫—Å–ø–æ—Ä—Ç –≤ JSON</div>
          <div class="menu-item" onclick="importJSON()"><span class="icon">üì§</span>–ò–º–ø–æ—Ä—Ç –∏–∑ JSON</div>
          <div class="menu-item" onclick="printPage()"><span class="icon">üñ®Ô∏è</span>–ü–µ—á–∞—Ç—å</div>
          <div class="menu-item" onclick="scanQR()"><span class="icon">üì∑</span>–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR</div>
        </div>
        
        <div class="section ${currentTab === 'spareparts' ? 'active' : ''}">
          <input type="text" id="searchParts" placeholder="–ü–æ–∏—Å–∫ –∑–∞–ø—á–∞—Å—Ç–µ–π..." oninput="searchParts()" />
          <div id="partsList"></div>
        </div>
        
        <div class="section ${currentTab === 'health' ? 'active' : ''}">
          <input type="text" id="searchHealth" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–¥–æ—Ä–æ–≤—å—é..." oninput="searchHealth()" />
          <div id="healthList"></div>
        </div>
      `;
      
      document.getElementById('app').innerHTML = html;
      updateCounts();
      if (currentTab === 'spareparts') searchParts();
      if (currentTab === 'health') searchHealth();
    }

    function switchTab(tab) {
      currentTab = tab;
      render();
    }

    function updateCounts() {
      techCount = APPLIANCES.length;
      healthCount = HEALTH.length;
      document.querySelector('.status').textContent = `–¢–µ—Ö–Ω–∏–∫–∞: ${techCount} | –ó–¥–æ—Ä–æ–≤—å–µ: ${healthCount}`;
    }

    function addAppliance() {
      const model = prompt("–í–≤–µ–¥–∏—Ç–µ –º–æ–¥–µ–ª—å —Ç–µ—Ö–Ω–∏–∫–∏:");
      if (!model) return;
      APPLIANCES.push({
        brand: "Bosch",
        model: model,
        type: "–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞",
        errors: ["E18", "F21"],
        parts: []
      });
      techCount++;
      render();
    }

    function openHealth() {
      currentTab = 'health';
      render();
    }

    function exportPDF() {
      alert('–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF: —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Premium');
    }

    function exportJSON() {
      const data = { appliances: APPLIANCES, spareparts: SPAREPARTS, health: HEALTH };
      const jsonStr = JSON.stringify(data, null, 2);
      const blob = new Blob([jsonStr], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'fixa-pro-data.json';
      a.click();
    }

    function importJSON() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = '.json';
      input.onchange = (e) => {
        const file = e.target.files[0];
        const reader = new FileReader();
        reader.onload = (event) => {
          try {
            const data = JSON.parse(event.target.result);
            if (data.appliances) APPLIANCES.splice(0, APPLIANCES.length, ...data.appliances);
            if (data.spareparts) SPAREPARTS.splice(0, SPAREPARTS.length, ...data.spareparts);
            if (data.health) HEALTH.splice(0, HEALTH.length, ...data.health);
            updateCounts();
            render();
          } catch (e) {
            alert('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: ' + e.message);
          }
        };
        reader.readAsText(file);
      };
      input.click();
    }

    function printPage() {
      window.print();
    }

    function scanQR() {
      alert('QR-—Å–∫–∞–Ω–µ—Ä: —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Premium');
    }

    function searchTech() {
      const query = document.getElementById('searchTech').value.toLowerCase();
      // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
    }

    function searchParts() {
      const query = document.getElementById('searchParts').value.toLowerCase();
      const results = SPAREPARTS.filter(item => 
        item.name.toLowerCase().includes(query)
      );
      document.getElementById('partsList').innerHTML = results.map(item => 
        `<div class="card"><strong>${item.name}</strong><br>–¶–µ–Ω–∞: ${item.price} —Ä—É–±.<br>–ù–∞ —Å–∫–ª–∞–¥–µ: ${item.stock}</div>`
      ).join('');
    }

    function searchHealth() {
      const query = document.getElementById('searchHealth').value.toLowerCase();
      const results = HEALTH.filter(item => 
        item.title_ru.toLowerCase().includes(query)
      );
      document.getElementById('healthList').innerHTML = results.map(item => 
        `<div class="card"><strong>${item.code} ‚Äî ${item.title_ru}</strong><br>${item.description_ru || ''}<br><small style="color:#ff6b6b;">${item.warning}</small></div>`
      ).join('');
    }

    // PWA manifest
    const manifest = {
      "name": "Fixa Pro Premium",
      "short_name": "FixaPro",
      "start_url": "/",
      "display": "standalone",
      "background_color": "#000000",
      "theme_color": "#0055aa",
      "icons": [{"src": "image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üîß</text></svg>","sizes":"192x192","type":"image/svg+xml"}]
    };
    const manifestBlob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
    const manifestURL = URL.createObjectURL(manifestBlob);
    const link = document.createElement('link');
    link.rel = 'manifest';
    link.href = manifestURL;
    document.head.appendChild(link);

    // –ó–∞–ø—É—Å–∫
    document.addEventListener('DOMContentLoaded', render);
  </script>
</body>
</html>
