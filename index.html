<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fixa Pro Business</title>
  <meta name="theme-color" content="#0055aa">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    :root { --primary: #2563eb; --dark: #0f172a; --card: #1e293b; --text: #f1f5f9; }
    body { background: var(--dark); color: var(--text); padding: 16px; }
    #app { max-width: 1000px; margin: 0 auto; }
    .header {
      text-align: center;
      margin: 20px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .header h1 { font-size: 28px; margin-bottom: 8px; color: var(--primary); }
    .header .icons { display: flex; gap: 8px; }
    .btn {
      display: block; width: 100%; padding: 16px; margin: 12px 0;
      background: var(--primary); color: white; border: none; border-radius: 14px;
      font-size: 18px; font-weight: 600; cursor: pointer;
      transition: background 0.2s;
    }
    .btn:hover { background: #1d4ed8; }
    .btn.secondary {
      background: var(--card);
      border: 1px solid var(--primary);
    }
    .btn.secondary:hover { background: rgba(37, 99, 235, 0.1); }
    .btn.heart { background: #dc2626; }
    .btn.heart:hover { background: #b91c1c; }
    .card {
      background: var(--card); padding: 18px; margin: 14px 0;
      border-radius: 16px; border-left: 4px solid var(--primary);
    }
    input[type="text"] {
      width: 100%; padding: 14px; margin: 12px 0;
      background: #2d3748; border: 1px solid #475569; border-radius: 12px;
      color: white; font-size: 16px;
    }
    .status { text-align: center; color: #94a3b8; margin: 20px 0; font-size: 14px; }
    .tab-bar {
      display: flex; gap: 8px; margin: 20px 0;
    }
    .tab {
      flex: 1;
      padding: 12px;
      background: var(--card);
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
    }
    .tab.active { background: var(--primary); color: white; }
    .section { display: none; }
    .section.active { display: block; }
    .menu-item { padding: 16px; margin: 8px 0; background: var(--card); border-radius: 12px; cursor: pointer; }
    .menu-item:hover { background: rgba(37, 99, 235, 0.1); }
    .icon { margin-right: 8px; }
  </style>
</head>
<body>
  <div id="app">–ó–∞–≥—Ä—É–∑–∫–∞ Fixa Pro Business...</div>

  <script>
    // === FIXAPRO BUSINESS ‚Äî –†–ê–ë–û–ß–ê–Ø –í–ï–†–°–ò–Ø ===
    // –í–°–Å –í –û–î–ù–û–ú –§–ê–ô–õ–ï ‚Äî –ë–ï–ó –û–®–ò–ë–û–ö

    let currentTab = 'main';
    let techCount = 0;
    let healthCount = 0;

    // –î–∞–Ω–Ω—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω—ã
    const APPLIANCES = [
      {"brand":"Bosch","model":"WAT28480OE","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["E18","F21","F43"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Indesit","model":"IWSC 61252","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["F01","F05","F12"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"LG","model":"F10B8QD","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["OE","UE","DE"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Samsung","model":"WW90J54E0UW","type":"–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞","errors":["UE","DE","ND"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]},
      {"brand":"Atlant","model":"–ú–ê–° 4020-03","type":"–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫","errors":["F1","F2","F3"],"parts":["–§–∏–ª—å—Ç—Ä","–ù–∞—Å–æ—Å"]}
    ];

    const SPAREPARTS = [
      {"name":"–§–∏–ª—å—Ç—Ä Bosch WAT28480OE","price":1200,"stock":5},
      {"name":"–ù–∞—Å–æ—Å Bosch WAT28480OE","price":3500,"stock":3}
    ];

    const HEALTH = [
      {"code":"RA00","title_ru":"–ì—Ä–∏–ø–ø","description_ru":"–û—Å—Ç—Ä–æ–µ –≤–∏—Ä—É—Å–Ω–æ–µ —Ä–µ—Å–ø–∏—Ä–∞—Ç–æ—Ä–Ω–æ–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–µ.","warning":"–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É. –°–∞–º–æ–ª–µ—á–µ–Ω–∏–µ –æ–ø–∞—Å–Ω–æ."},
      {"code":"BA00.0","title_ru":"–û—Å—Ç—Ä–∞—è –±–∞–∫—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–µ–∫—Ü–∏—è","description_ru":"–ò–Ω—Ñ–µ–∫—Ü–∏—è, –≤—ã–∑–≤–∞–Ω–Ω–∞—è –±–∞–∫—Ç–µ—Ä–∏—è–º–∏.","warning":"–¢—Ä–µ–±—É–µ—Ç –∞–Ω—Ç–∏–±–∏–æ—Ç–∏–∫–æ–≤. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É."}
    ];

    // UI
    function render() {
      techCount = APPLIANCES.length;
      healthCount = HEALTH.length;

      let html = `
        <div class="header">
          <h1>Fixa Pro</h1>
          <div class="icons">
            <span>üá∑üá∫</span>
            <span>‚òÄÔ∏è</span>
          </div>
        </div>
        <div class="status">–¢–µ—Ö–Ω–∏–∫–∞: ${techCount} | –ó–¥–æ—Ä–æ–≤—å–µ: ${healthCount}</div>
        
        <div class="tab-bar">
          <div class="tab ${currentTab === 'main' ? 'active' : ''}" onclick="switchTab('main')">–û—Å–Ω–æ–≤–Ω–æ–µ</div>
          <div class="tab ${currentTab === 'spareparts' ? 'active' : ''}" onclick="switchTab('spareparts')"><span class="icon">üîß</span>–ó–∞–ø—á–∞—Å—Ç–∏</div>
          <div class="tab ${currentTab === 'health' ? 'active' : ''}" onclick="switchTab('health')"><span class="icon">‚ù§Ô∏è</span>–ó–¥–æ—Ä–æ–≤—å–µ</div>
        </div>
        
        <div class="section ${currentTab === 'main' ? 'active' : ''}">
          <input type="text" id="searchTech" placeholder="–ü–æ–∏—Å–∫ —Ç–µ—Ö–Ω–∏–∫–∏..." oninput="searchTech()" />
          <div class="menu-item" onclick="addAppliance()"><span class="icon">üîß</span>–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Ö–Ω–∏–∫—É</div>
          <div class="menu-item" onclick="openHealth()"><span class="icon">‚ù§Ô∏è</span>–ó–¥–æ—Ä–æ–≤—å–µ —Å–µ–º—å–∏</div>
          <div class="menu-item" onclick="exportPDF()"><span class="icon">üìÑ</span>–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF</div>
          <div class="menu-item" onclick="exportJSON()"><span class="icon">üíæ</span>–≠–∫—Å–ø–æ—Ä—Ç –≤ JSON</div>
          <div class="menu-item" onclick="importJSON()"><span class="icon">üì§</span>–ò–º–ø–æ—Ä—Ç –∏–∑ JSON</div>
          <div class="menu-item" onclick="printPage()"><span class="icon">üñ®Ô∏è</span>–ü–µ—á–∞—Ç—å</div>
          <div class="menu-item" onclick="scanQR()"><span class="icon">üì∑</span>–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR</div>
        </div>
        
        <div class="section ${currentTab === 'spareparts' ? 'active' : ''}">
          <input type="text" id="searchParts" placeholder="–ü–æ–∏—Å–∫ –∑–∞–ø—á–∞—Å—Ç–µ–π..." oninput="searchParts()" />
          <div id="partsList"></div>
        </div>
        
        <div class="section ${currentTab === 'health' ? 'active' : ''}">
          <input type="text" id="searchHealth" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–¥–æ—Ä–æ–≤—å—é..." oninput="searchHealth()" />
          <div id="healthList"></div>
        </div>
      `;
      
      document.getElementById('app').innerHTML = html;
      if (currentTab === 'spareparts') searchParts();
      if (currentTab === 'health') searchHealth();
    }

    function switchTab(tab) {
      currentTab = tab;
      render();
    }

    function addAppliance() {
      const model = prompt("–í–≤–µ–¥–∏—Ç–µ –º–æ–¥–µ–ª—å —Ç–µ—Ö–Ω–∏–∫–∏:");
      if (model) {
        APPLIANCES.push({
          brand: "Bosch",
          model: model,
          type: "–°—Ç–∏—Ä–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞",
          errors: ["E18", "F21"],
          parts: []
        });
        render();
      }
    }

    function openHealth() {
      currentTab = 'health';
      render();
    }

    function exportPDF() {
      alert('–≠–∫—Å–ø–æ—Ä—Ç –≤ PDF: —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Premium');
    }

    function exportJSON() {
      const data = { appliances: APPLIANCES, spareparts: SPAREPARTS, health: HEALTH };
      const jsonStr = JSON.stringify(data, null, 2);
      const blob = new Blob([jsonStr], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'fixa-pro-data.json';
      a.click();
    }

    function importJSON() {
      const input = document.createElement('input');
      input.type = 'file';
      input.accept = '.json';
      input.onchange = (e) => {
        const file = e.target.files[0];
        const reader = new FileReader();
        reader.onload = (event) => {
          try {
            const data = JSON.parse(event.target.result);
            if (data.appliances) APPLIANCES.splice(0, APPLIANCES.length, ...data.appliances);
            if (data.spareparts) SPAREPARTS.splice(0, SPAREPARTS.length, ...data.spareparts);
            if (data.health) HEALTH.splice(0, HEALTH.length, ...data.health);
            render();
          } catch (e) {
            alert('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: ' + e.message);
          }
        };
        reader.readAsText(file);
      };
      input.click();
    }

    function printPage() {
      window.print();
    }

    function scanQR() {
      alert('QR-—Å–∫–∞–Ω–µ—Ä: —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ Premium');
    }

    function searchParts() {
      const query = document.getElementById('searchParts').value.toLowerCase();
      const results = SPAREPARTS.filter(item => item.name.toLowerCase().includes(query));
      document.getElementById('partsList').innerHTML = results.map(item => 
        `<div class="card"><strong>${item.name}</strong><br>–¶–µ–Ω–∞: ${item.price} —Ä—É–±.<br>–ù–∞ —Å–∫–ª–∞–¥–µ: ${item.stock}</div>`
      ).join('');
    }

    function searchHealth() {
      const query = document.getElementById('searchHealth').value.toLowerCase();
      const results = HEALTH.filter(item => item.title_ru.toLowerCase().includes(query));
      document.getElementById('healthList').innerHTML = results.map(item => 
        `<div class="card"><strong>${item.code} ‚Äî ${item.title_ru}</strong><br>${item.description_ru || ''}<br><small style="color:#ff6b6b;">${item.warning}</small></div>`
      ).join('');
    }

    function searchTech() {
      // –ü–æ–∏—Å–∫ –ø–æ–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–æ –ø–æ–ª–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
    }

    // –ó–∞–ø—É—Å–∫
    document.addEventListener('DOMContentLoaded', render);
  </script>
</body>
</html>
